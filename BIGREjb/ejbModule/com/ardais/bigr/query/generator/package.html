<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type"	content="text/html; charset=WINDOWS-1252">
<TITLE>package.html</TITLE>
</HEAD>
<BODY>
Contains classes that are used to generate a query.  Query generation is
based on the observation that a query can be broken down into <i>columns</i>,
<i>filters</i> and <i>tables</i>.  A <i>column</i> is a piece of information
that should be returned from a query, and is ultimately a column that is
specified in a SQL SELECT clause.  A <i>filter</i> is essentially a 
SQL WHERE clause fragment that limits the number of rows that are returned
from a query.  A <i>table</i> is SQL FROM clause fragment that specifies a database
table from which columns are returned or upon which filters are based.

<p>
Generation of the query is highly meta-data driven.  Instances of the 
following classes are used to hold this meta-data:
{@link com.ardais.bigr.query.generator.ColumnMetaData ColumnMetaData}, 
{@link com.ardais.bigr.query.generator.FilterMetaData FilterMetaData} and 
{@link com.ardais.bigr.query.generator.TableMetaData TableMetaData}.  Each
of these objects holds non query-specific information about a single column, filter
or table.  Significantly, each object holds enough information to generate a
SQL fragment, which can be combined with other fragments to produce a SQL
statement.
{@link com.ardais.bigr.query.generator.ProductQueryMetaData ProductQueryMetaData}
statically instantiates 
<code>ColumnMetaData</code>, <code>FilterMetaData</code> and
<code>TableMetaData</code> objects to hold all meta-data needed for all
queries generated by all query builders in this package.
</p>

<p>
{@link com.ardais.bigr.query.generator.ProductQueryBuilder ProductQueryBuilder} is
a generic class that holds all meta-data necessary to build a single query, and
has methods to return the query's SQL statement and bind all parameters
to the <code>PreparedStatement</code> that is generated from its query.
It is intended to only be used by other query builders within this package, such as 
{@link com.ardais.bigr.query.generator.ProductSummaryQueryBuilder ProductSummaryQueryBuilder}
and 
{@link com.ardais.bigr.query.generator.ProductDetailQueryBuilder ProductDetailQueryBuilder}.
</p>

<p>
A couple of other related classes of note are 
{@link com.ardais.bigr.util.DbConstants DbConstants}
and {@link com.ardais.bigr.util.DbAliases DbAliases}, which hold constants
that specify the actual table and column names in the database, and aliases
for those, respectively.
</p>

<p>
To add new columns, filters and tables, a number of pieces of meta-data and
methods must be added in various classes as follows:
</p>

<p>
To add a new table:
<ol>
<li>Add a constant for the table name in <code>DbConstants</code>.</li>
<li>Add a constant for the table alias in <code>DbAliases</code>.</li>
<li>Add a key for the table in <code>TableMetaData</code>.</li>
<li>Add the table meta-data definition to	<code>ProductQueryMetaData</code>.</li>
</ol>
</p>

<p>
To add a new column:
<ol>
<li>Add a constant for the column name in <code>DbConstants</code>.</li>
<li>Add a constant for the column alias in <code>DbAliases</code>.</li>
<li>Add a key for the column in <code>ColumnMetaData</code>.</li>
<li>Add the column meta-data definition to <code>ProductQueryMetaData</code>.</li>
<li>Add a private <code>addColumnInXXX</code> method to a specific query builder,
		such as <code>ProductDetailQueryBuilder</code>, if necessary.</li>
<li>Add an <code>addColumnXXX</code> method to a specific query builder,
		such as <code>ProductDetailQueryBuilder</code>.</li>
<li>Add an if clause in the corresponding data bean's populate() 
		method to populate the bean with the new column, if your specific query
		builder uses this mechanism to populate data beans.</li>
</ol>
</p>

<p>
To add a new filter:
<ol>
<li>Make sure all tables and columns that participate in the filter are 
		defined appropriately.</li>
<li>Add a key for the filter in <code>FilterMetaData</code>.</li>
<li>Add the filter meta-data definition to <code>ProductQueryMetaData</code>.</li>
<li>Add an <code>addFilterXXX</code> method to a specific query builder,
		such as <code>ProductSummaryQueryBuilder</code>.</li>
</ol>
</p>

<p>
To add a new join (which is treated like a filter):
<ol>
<li>Make sure all tables and columns that participate in the join are 
		defined appropriately.</li>
<li>Add a key for the join in <code>FilterMetaData</code>.</li>
<li>Add the join meta-data definition to <code>ProductQueryMetaData</code>.</li>
<li>Add a private <code>addJoinXXX</code> method to a specific query builder,
		such as <code>ProductSummaryQueryBuilder</code>.</li>
</ol>
</p>

</BODY>
</HTML>
